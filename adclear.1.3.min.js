/**
 * Browser AdClear Plugin 1.3
 * https://github.com/diky87688973/adclear
 *
 * 广告清理-PC版
 * v1.3 增加属性规则
 * v1.2 清理内容广告
 * v1.1 清理浮动广告
 * 
 * @author Fan
 * @lastModify 2018-09-27
 * 
 * 全局属性：
 * _showADClearLog = true; // 增加全局配置参数可输出更多日志
 * 浏览器标签：
 * javascript:(function(){var t=new Date().getTime(),a=new XMLHttpRequest();a.open('GET','//raw.githubusercontent.com/diky87688973/adclear/11ad4aa20f9cbefc4cbe767a9232d9e2b259ca5b/adclear.1.3.js',true);a.onreadystatechange=function(){if(this.readyState==4&&(this.status>=200&&this.status<300||this.status===304||this.status===0||this.status===1223)){window.console&&console.log('Loading AdClear Plugin...\tused '+(new Date().getTime()-t)+'ms');eval(this.responseText);}};a.send(null);})();
 */
(function(){var o="1.3",L=location.hostname.toLowerCase(),m=[],u={},Q="_ad_box_wrap_cleaned_",P=/^div|a|img|table|iframe|span|ul|ins|em$/i,v=/^iframe|embed|object|a|img$/i,r=0,A=0,a=0,n=[{type:"css",positionReg:/fixed|absolute/,bottom:"-10,50",right:"-10,50",width:"200,500",height:"200,400"},{type:"css",positionReg:/fixed|absolute/,bottom:"-10,50",left:"-10,50",width:"200,500",height:"200,400"},{type:"css",position:"fixed",left:"-10,50",width:"100,200",height:"200,500"},{type:"css",position:"fixed",right:"-10,50",width:"100,200",height:"200,500"},{type:"css",position:"fixed",width:"100,200",height:"200,500"},{type:"css",position:"fixed",width:"150,500",height:"150,300"}],f=[{type:"attr^=",id:"tanx"},{type:"attr^=",id:"adContent-"},{type:"attr~=",flashvars:"saxn.sina.com.cn%2Fmfp%2Fclick"},{type:"attr",md5:true,src:"4307047f7d98e054912130c794d7078d"},{type:"attr",md5:true,src:"226f3b9ff1d0f1fc465991b291e49c08"}],b=["pos.baidu.com","static.pay.baidu.com/baichuan/adp","entry.baidu.com/rp/home","ubmcmm.baidustatic.com/media/v1","www.baidu.com/cb.php","www.baidu.com/baidu.php?url=","cm.bilibili.com/cm/api/fees/pc","api.so.lianmeng.360.cn/searchthrow/api/ads/throw","nads.wuaiso.com","a1.alicdn.com/creation","afptrack.alimama.com/clk","afp.alicdn.com/afp-creative","click.aliyun.com/m","click.tanx.com/ct","s.click.taobao.com/t","render.alipay.com/p/s/taobaonpm_click","img1.126.net/channel","img1.126.net/advertisement/contract","popme.163.com","g.163.com/r","strip.taobaocdn.com","inte.sogou.com/ct","x.jd.com/exsites","g.fastapi.net/qa","g.ggxt.net/qa","c.l.qq.com/lclick","d1.sina.com.cn/litong/zhitou/sinaads","saxn.sina.com.cn/dsp/click","saxn.sina.com.cn/mfp/click","ads.vamaker.com","same.chinadaily.com.cn/s?","img-ads.csdn.net","www.googleadservices.com","googleads.g.doubleclick.net/pagead","googleads.g.doubleclick.net/aclk","tpc.googlesyndication.com/safeframe","www.west.cn/services/CloudHost/?ads=","www.nas.net.cn","www.7e.hk","www.37cs.com/html/click","www.ifeng.com/a_if","www.ifeng.com/ssi-incs","y1.ifengimg.com","y2.ifengimg.com/mappa","c1.ifengimg.com","games.ifeng.com/bcs/games","games.ifeng.com/1403m","dol.deliver.ifeng.com/c","wa.gtimg.com","www.cokolo.cn","swa.gtimg.com/web/snswin","show.g.mediav.com/s","topic.cokolo.cn","d.admx.baixing.com","tr.mjoys.com/tanxopen","click.tanx.com/cc","material.istreamsche.com"],F={"www.baidu.com":[],"www.163.com":[],"www.ifeng.com":["y1.ifengimg.com"]};(function(){for(var R=0;R<b.length;R++){var V=b[R];if(location.href.indexOf("//"+V.toLowerCase())>-1){b[R--]=b[b.length-1];b.length-=1;window.console&&console.log("过滤:"+L+" 域名下的:"+V)}}var U=F[L];if(U){for(var T=0;T<U.length;T++){var S=U[T].toLowerCase();for(var R=0;R<b.length;R++){if(S==b[R].toLowerCase()){b[R--]=b[b.length-1];b.length-=1;window.console&&console.log("过滤:"+L+" 域名下的:"+S)}}}}})();function i(R){R=R>>0||20;m=[];t(document.body,R)}function t(W,V){if(V<=0||!W||W.nodeType!=1){return}for(var T=0,S=W.childNodes.length;T<S;T++){var U=W.childNodes[T];if(U.nodeType!=1||"1"==U.getAttribute(Q)){continue}if(!(U._YWF_||/\b_YWF_ADBOX\b/i.test(U.className))){var R=false;if(v.test(U.nodeName)&&J(U)){a++;R=true}else{if(k(U)>0&&P.test(U.nodeName)&&(D(U)||x(U))){r++;R=true}else{if(k(U)==0&&x(U)){A++;R=true}else{t(U,V-1)}}}}}}function k(S){var R=E(S,"position")+"";if(/^absolute$/i.test(R)){return 1}else{if(/^fixed$/i.test(R)){return 2}}return 0}function E(U,S){var T;if((T=U.style[S])){}else{if(document.defaultView&&document.defaultView.getComputedStyle){S=S.replace(/([A-Z])/g,"-$1").toLowerCase();T=document.defaultView.getComputedStyle(U,null);T=T?T.getPropertyValue(S):null}else{if(U.currentStyle){T=U.currentStyle[S]}}}if(/^auto$/i.test(T)){switch(S){case"top":T=h(U).y+"px";break;case"left":T=h(U).x+"px";break;case"right":var V=h(U),R=y();T=(R.w-V.x-U.offsetWidth)+"px";break;case"bottom":var V=h(U),R=y();T=(R.h-V.y-U.offsetHeight)+"px";break;case"width":T=U.offsetWidth+"px";break;case"height":T=U.offsetHeight+"px";break}}return T}function h(V,T){var Z=V.offsetLeft,R=Z,S=/\babsolute\b|\brelative\b/i,U=1;var W=V.offsetParent;while(null!=W){if(U&&W.style&&S.test(E(W,"position"))){U=0;R=Z;if(T){Z=0;break}}Z+=W.offsetLeft;W=W.offsetParent}U=1;var Y=V.offsetTop,X=Y;W=V.offsetParent;while(null!=W){if(U&&W.style&&S.test(E(W,"position"))){U=0;X=Y;if(T){Y=0;break}}Y+=W.offsetTop;W=W.offsetParent}return{x:Z,y:Y,xx:R,yy:X}}function y(){var R=document.body,S=document.documentElement;return{w:Math.max(R.scrollWidth,R.clientWidth,S.scrollWidth,S.scrollWidth),h:Math.max(R.scrollHeight,R.clientHeight,S.scrollHeight,S.clientHeight)}}function D(U){for(var Y=0;Y<n.length;Y++){var ab=n[Y];switch(ab.type){case"css":var aa=false,S=true;for(var ad in ab){if(!S){break}if(ad&&!/^(?:type|position)$/.test(ad)&&ab.hasOwnProperty(ad)){if(ab.positionReg&&!ab.positionReg.test(E(U,"position"))){aa=false;S=false;break}else{if(ab.position&&ab.position!=E(U,"position")){aa=false;S=false;break}}var R=E(U,ad);if(R==null){aa=false;S=false;break}var T=parseFloat(R);if(isNaN(T)){aa=false;S=false;break}var Z=ab[ad];var ac=Z.split(/;/);var W=false;for(var X=0;X<ac.length;X++){var V=ac[X].split(/,/);if(T>=parseFloat(V[0])&&T<=parseFloat(V[1])){aa=true;W=true;break}}if(!W){aa=false;S=false;break}}}if(aa&&c(U)){U.setAttribute("_box_rules_",Y);return true}break}}return false}function x(U){for(var S=0;S<f.length;S++){var V=f[S];switch(V.type){case"attr":case"attr=":case"attrContain":case"attr~=":case"attrPrefix":case"attr^=":case"attrSuffix":case"attr$=":for(var T in V){if(T&&!/^(?:type|useMd5)$/.test(T)&&V.hasOwnProperty(T)){var R=U.getAttribute(T);if(R==null){break}R=V.md5?p.md5(R):R;var W=V[T];switch(true){case /^(?:attr|attr=)$/.test(V.type)&&R==W:case /^(?:attrContain|attr~=)$/.test(V.type)&&R.indexOf(W)>=0:case /^(?:attrPrefix|attr\^=)$/.test(V.type)&&R.indexOf(W)==0:case /^(?:attrSuffix|attr\$=)$/.test(V.type)&&R.length-R.lastIndexOf(W)==W.length:U.setAttribute("_attr_rules_",S);m.push(U);return true;default:break}}}break}}return false}function c(S){var U=k(S);var R=false;switch(U){case 1:var T=S.parentNode;if((T&&/^body$/i.test(T.nodeName))||(T.parentNode&&/^body$/i.test(T.parentNode.nodeName))){R=true}break;case 2:R=true;break}if(R){m.push(S);return true}return false}function J(S){for(var R=0;R<b.length;R++){var T=b[R];if(w(S,T.toLowerCase())){S.setAttribute("_domain_rules_",T);m.push(S);return true}}return false}function w(U,V){var S=false,T="//"+V;switch(U.nodeName.toLowerCase()){case"iframe":try{S=C(U,V)}catch(W){S=false}break;case"a":var R=(U.href+"").toLowerCase();S=R.indexOf(T)>-1;break;case"object":var R=(U.data+"").toLowerCase();S=R.indexOf(T)>-1;break;case"img":case"embed":var R=(U.src+"").toLowerCase();S=R.indexOf(T)>-1;break}return S}var N=0,l={},I={};function C(S,R){if(!l[R]){l[R]=0}l[R]++;N++;var X=false;try{url=(S.src+"").toLowerCase();X=url.indexOf("//"+R)>-1;if(X){if(!I[R]){I[R]=0}I[R]++}if(!X&&!S[".ad.iframe.checked."]){var Y=false;try{Y=!!S.contentWindow.location.href}catch(Z){Y=false}if(Y){var W=S.contentWindow.document.getElementsByTagName("iframe");for(var T=0;T<W.length;T++){if(C(W[T],R)){X=true;break}}if(!X){var U=S.contentWindow.document.getElementsByTagName("a");for(var T=0;T<U.length;T++){if(w(U[T],R)){X=true;break}}}}else{S[".ad.iframe.checked."]=1}}}catch(V){X=false}finally{S=null}return X}function j(R){var T=R,S=T.parentNode;while(S&&T&&!/^body|html$/i.test(S.nodeName)&&(S.children.length==1||!z(S,T))){T=S;S=T.parentNode}return T}function z(T,R){if(!T||!R){return false}else{if(/^body|html$/i.test(T.nodeName)){return true}}var aa=false,X=0;for(var Z=0,W=T.children.length;Z<W;Z++){var U=T.children[Z];if(/^title|meta$/i.test(U.nodeName)){return false}if(U.nodeType!=1||U===R||/^script|link|style$/i.test(U.nodeName)){continue}var Y=50,V=30;var S=U.offsetWidth<Y||U.offsetHeight<V||"hidden"==E(U,"visibility");if(!S){X++}if((!S&&((U.offsetWidth>=Y||U.offsetHeight>=V)||((U.textContent||U.innerText).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"").length>0)||!(U.children.length<=1&&/^img$/i.test(U.children[0].nodeName)&&(U.children[0].offsetWidth<Y&&U.children[0].offsetHeight<V))))||(S&&(/(?:^|[-_\s])tab(?:[-_\s]|$)/i.test(T.id+" "+T.className)))){aa=true;break}}return aa||X>0}function B(U,T){var S=true;if("auto"==T){if(k(U)){T="movehide"}else{var R=/^none$/i.test(E(U.nextElementSibling||U,"float"));T=R?"hide":"invisible"}}switch(T){case"invisible":U.style.cssText+=";opacity:0 !important;visibility: hidden !important;pointer-events: none !important;";break;case"hide":U.style.cssText+=";display:none !important;opacity:0 !important;height:0 !important;width:0 !important;pointer-events:none !important;";break;case"movehide":U.style.cssText+=";filter:alpha(opacity=0) !important;opacity:0 !important;display:none !important;height:0 !important;bottom:auto !important;top:-99999px !important;left:-99999px !important;z-index:-100 !important;pointer-events:none !important;";break;case"remove":U.parentNode&&U.parentNode.removeChild&&U.parentNode.removeChild(U);break;default:S=false;break}U.setAttribute(Q,S?"1":"0");return S}function d(Z){if(window.top!=window){return}var V=F[L];if(V){for(var X=0;X<V.length;X++){var S=V[X].toLowerCase();for(var W=0;W<b.length;W++){if(S==b[W].toLowerCase()){b[W--]=b[b.length-1];b.length-=1}}}}i(Z);var U=100;for(var X=0,Y=Math.round(m.length*U/100);X<Y;X++){var T=m[X];var R=j(T);R&&B(R,"auto")&&H++}M=M.concat(m);q="[广告清理 v"+o+"] - 查出广告元素 %c"+M.length+" %c个：匹配Box广告 %c"+r+" %c个、匹配属性广告 %c"+A+" %c个、匹配域名广告 %c"+a+" %c个，成功清理 %c"+H+" %c个广告，清理率 %c"+U+" %c%";K=["color:red","color:#000","color:red","color:#000","color:red","color:#000","color:red","color:#000","color:red","color:#000","color:red","color:#000"]}var q,K=[],M=[],H=0,O=0,G=0;var s=500,g=10*1000+s,e=new Date().getTime();setTimeout(function(){O++;if(O==1){window.console&&console.log("[广告清理 v"+o+"] - 正在清理广告...")}var S=new Date().getTime();d(20);var T=new Date().getTime()-S;G+=T;if(false&&S<e+g){setTimeout(arguments.callee,s)}else{if(window.console){window._showADClearLog&&console.log(M);q&&console.log.apply(console,[q].concat(K));console.log("[广告清理 v"+o+"] - 清理完毕，共清理广告 "+O+" 次，总耗时："+G+"ms，单次平均耗时："+(G/O>>0)+"ms");var V=0;for(var R in l){if(R&&l.hasOwnProperty(R)){V++;window._showADClearLog&&console.log(R+"检索次数:"+l[R])}}var U=0;for(var R in I){if(R&&I.hasOwnProperty(R)){U++;window._showADClearLog&&console.log(R+"命中次数:"+I[R])}}window._showADClearLog&&console.log("总广告域名:"+b.length+"个, 被检索的广告域名:"+V+"个, 命中广告域名:"+U+"个");window._showADClearLog&&console.log("checkAdIframe执行次数:"+N)}}},0);var p=function(){};(function(ae){function W(an,ak){var al=(an&65535)+(ak&65535),am=(an>>16)+(ak>>16)+(al>>16);return(am<<16)|(al&65535)}function S(al,ak){return(al<<ak)|(al>>>(32-ak))}function ah(ak,al,am,an,ao,ap){return W(S(W(W(al,ak),W(an,ap)),ao),am)}function ai(al,am,aq,ak,an,ao,ap){return ah((am&aq)|((~am)&ak),al,am,an,ao,ap)}function ac(al,am,aq,ak,an,ao,ap){return ah((am&ak)|(aq&(~ak)),al,am,an,ao,ap)}function X(al,am,aq,ak,an,ao,ap){return ah(am^aq^ak,al,am,an,ao,ap)}function aj(al,am,aq,ak,an,ao,ap){return ah(aq^(am|(~ak)),al,am,an,ao,ap)}function ag(av,ao){av[ao>>5]|=128<<((ao)%32);av[(((ao+64)>>>9)<<4)+14]=ao;var ar,ap,aq,at,au,ak=1732584193,al=-271733879,am=-1732584194,an=271733878;for(ar=0;ar<av.length;ar+=16){ap=ak;aq=al;at=am;au=an;ak=ai(ak,al,am,an,av[ar],7,-680876936);an=ai(an,ak,al,am,av[ar+1],12,-389564586);am=ai(am,an,ak,al,av[ar+2],17,606105819);al=ai(al,am,an,ak,av[ar+3],22,-1044525330);ak=ai(ak,al,am,an,av[ar+4],7,-176418897);an=ai(an,ak,al,am,av[ar+5],12,1200080426);am=ai(am,an,ak,al,av[ar+6],17,-1473231341);al=ai(al,am,an,ak,av[ar+7],22,-45705983);ak=ai(ak,al,am,an,av[ar+8],7,1770035416);an=ai(an,ak,al,am,av[ar+9],12,-1958414417);am=ai(am,an,ak,al,av[ar+10],17,-42063);al=ai(al,am,an,ak,av[ar+11],22,-1990404162);ak=ai(ak,al,am,an,av[ar+12],7,1804603682);an=ai(an,ak,al,am,av[ar+13],12,-40341101);am=ai(am,an,ak,al,av[ar+14],17,-1502002290);al=ai(al,am,an,ak,av[ar+15],22,1236535329);ak=ac(ak,al,am,an,av[ar+1],5,-165796510);an=ac(an,ak,al,am,av[ar+6],9,-1069501632);am=ac(am,an,ak,al,av[ar+11],14,643717713);al=ac(al,am,an,ak,av[ar],20,-373897302);ak=ac(ak,al,am,an,av[ar+5],5,-701558691);an=ac(an,ak,al,am,av[ar+10],9,38016083);am=ac(am,an,ak,al,av[ar+15],14,-660478335);al=ac(al,am,an,ak,av[ar+4],20,-405537848);ak=ac(ak,al,am,an,av[ar+9],5,568446438);an=ac(an,ak,al,am,av[ar+14],9,-1019803690);am=ac(am,an,ak,al,av[ar+3],14,-187363961);al=ac(al,am,an,ak,av[ar+8],20,1163531501);ak=ac(ak,al,am,an,av[ar+13],5,-1444681467);an=ac(an,ak,al,am,av[ar+2],9,-51403784);am=ac(am,an,ak,al,av[ar+7],14,1735328473);al=ac(al,am,an,ak,av[ar+12],20,-1926607734);ak=X(ak,al,am,an,av[ar+5],4,-378558);an=X(an,ak,al,am,av[ar+8],11,-2022574463);am=X(am,an,ak,al,av[ar+11],16,1839030562);al=X(al,am,an,ak,av[ar+14],23,-35309556);ak=X(ak,al,am,an,av[ar+1],4,-1530992060);an=X(an,ak,al,am,av[ar+4],11,1272893353);am=X(am,an,ak,al,av[ar+7],16,-155497632);al=X(al,am,an,ak,av[ar+10],23,-1094730640);ak=X(ak,al,am,an,av[ar+13],4,681279174);an=X(an,ak,al,am,av[ar],11,-358537222);am=X(am,an,ak,al,av[ar+3],16,-722521979);al=X(al,am,an,ak,av[ar+6],23,76029189);ak=X(ak,al,am,an,av[ar+9],4,-640364487);an=X(an,ak,al,am,av[ar+12],11,-421815835);am=X(am,an,ak,al,av[ar+15],16,530742520);al=X(al,am,an,ak,av[ar+2],23,-995338651);ak=aj(ak,al,am,an,av[ar],6,-198630844);an=aj(an,ak,al,am,av[ar+7],10,1126891415);am=aj(am,an,ak,al,av[ar+14],15,-1416354905);al=aj(al,am,an,ak,av[ar+5],21,-57434055);ak=aj(ak,al,am,an,av[ar+12],6,1700485571);an=aj(an,ak,al,am,av[ar+3],10,-1894986606);am=aj(am,an,ak,al,av[ar+10],15,-1051523);al=aj(al,am,an,ak,av[ar+1],21,-2054922799);ak=aj(ak,al,am,an,av[ar+8],6,1873313359);an=aj(an,ak,al,am,av[ar+15],10,-30611744);am=aj(am,an,ak,al,av[ar+6],15,-1560198380);al=aj(al,am,an,ak,av[ar+13],21,1309151649);ak=aj(ak,al,am,an,av[ar+4],6,-145523070);an=aj(an,ak,al,am,av[ar+11],10,-1120210379);am=aj(am,an,ak,al,av[ar+2],15,718787259);al=aj(al,am,an,ak,av[ar+9],21,-343485551);ak=W(ak,ap);al=W(al,aq);am=W(am,at);an=W(an,au)}return[ak,al,am,an]}function V(al){var ak,am="";for(ak=0;ak<al.length*32;ak+=8){am+=String.fromCharCode((al[ak>>5]>>>(ak%32))&255)}return am}function ab(al){var ak,am=[];am[(al.length>>2)-1]=undefined;for(ak=0;ak<am.length;ak+=1){am[ak]=0}for(ak=0;ak<al.length*8;ak+=8){am[ak>>5]|=(al.charCodeAt(ak/8)&255)<<(ak%32)}return am}function aa(ak){return V(ag(ab(ak),ak.length*8))}function af(am,aq){var an,ak=ab(am),ao=[],al=[],ap;ao[15]=al[15]=undefined;if(ak.length>16){ak=ag(ak,am.length*8)}for(an=0;an<16;an+=1){ao[an]=ak[an]^909522486;al[an]=ak[an]^1549556828}ap=ag(ao.concat(ab(aq)),512+aq.length*8);return V(ag(al.concat(ap),512+128))}function R(al){var ao="0123456789abcdef",am="",an,ak;for(ak=0;ak<al.length;ak+=1){an=al.charCodeAt(ak);am+=ao.charAt((an>>>4)&15)+ao.charAt(an&15)}return am}function Y(ak){return unescape(encodeURIComponent(ak))}function U(ak){return aa(Y(ak))}function Z(ak){return R(U(ak))}function ad(al,ak){return af(Y(al),Y(ak))}function T(al,ak){return R(ad(al,ak))}ae.md5=function(al,ak,am){if(!ak){if(!am){return Z(al)}else{return U(al)}}if(!am){return T(ak,al)}else{return ad(ak,al)}}}(typeof p==="function"?p:this))})();